"use strict";(self.webpackChunksomiadmin=self.webpackChunksomiadmin||[]).push([[322],{3322:(Ee,k,i)=>{i.r(k),i.d(k,{DriverProfileModule:()=>Be});var W=i(6889),d=i(9826),T=i(655),s=i(3075),p=i(4362),D=i(2340),w=i(4610),ee=i(9751),_=i(4004),P=i(3905),e=i(5e3),L=i(9727),U=i(9083),c=i(9808),f=i(4546),b=i(1894),I=i(1047),A=i(8054),Y=i(656),Z=i(8481),ne=i(5052),F=i(2683),R=i(647),N=i(6042),O=i(2643),h=i(1062);function te(t,a){if(1&t&&(e._UZ(0,"nz-option",46),e.ALo(1,"translate")),2&t){const n=a.$implicit,r=e.oxw(2);e.Q6J("nzLabel",e.lcZ(1,2,"enum.gender."+r.camelCase(n)))("nzValue",n)}}function re(t,a){if(1&t&&e._UZ(0,"nz-option",47),2&t){const n=a.$implicit;e.Q6J("nzValue",n.id)("nzLabel",n.name)}}function oe(t,a){if(1&t&&e._UZ(0,"nz-option",47),2&t){const n=a.$implicit;e.Q6J("nzValue",n.id)("nzLabel",n.name)}}function ae(t,a){if(1&t&&e._UZ(0,"nz-option",47),2&t){const n=a.$implicit;e.Q6J("nzValue",n.id)("nzLabel",n.name)}}function ie(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"nz-tag",48),e.NdJ("nzCheckedChange",function(o){const m=e.CHM(n).$implicit;return e.oxw(2).handleServiceCheckChange(o,m)}),e._uU(1),e.qZA()}if(2&t){const n=a.$implicit,r=e.oxw(2);e.Q6J("nzChecked",r.form.value.enabledServices.indexOf(n.id)>-1),e.xp6(1),e.hij(" ",n.name," ")}}function le(t,a){if(1&t&&(e.ynx(0),e._UZ(1,"i",49),e.TgZ(2,"div",50),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("nzType",n.loadingUpload?"loading":"plus"),e.xp6(2),e.hij(" ",e.lcZ(4,2,"profile.upload")," ")}}function se(t,a){if(1&t&&e._UZ(0,"img",51),2&t){const n=e.oxw(2);e.Q6J("src",n.root+n.avatarUrl,e.LSH)}}const ce=function(t){return{Authorization:t}};function ue(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){return e.CHM(n),e.oxw().onSubmit()}),e._UZ(1,"input",2)(2,"input",3)(3,"input",4),e.TgZ(4,"div",5)(5,"nz-form-item")(6,"nz-form-label",6),e._uU(7,"First Name"),e.qZA(),e.TgZ(8,"nz-form-control"),e._UZ(9,"input",7),e.qZA()(),e.TgZ(10,"nz-form-item")(11,"nz-form-label",8),e._uU(12,"Last Name"),e.qZA(),e.TgZ(13,"nz-form-control"),e._UZ(14,"input",9),e.qZA()(),e.TgZ(15,"nz-form-item")(16,"nz-form-label",10),e._uU(17,"Gender"),e.qZA(),e.TgZ(18,"nz-select",11),e.YNc(19,te,2,4,"nz-option",12),e.qZA()(),e.TgZ(20,"nz-form-item")(21,"nz-form-label",13),e._uU(22,"Mobile Number"),e.qZA(),e.TgZ(23,"nz-form-control"),e._UZ(24,"nz-input-number",14),e.qZA()(),e.TgZ(25,"nz-form-item")(26,"nz-form-label",15),e._uU(27,"E-Mail"),e.qZA(),e.TgZ(28,"nz-form-control"),e._UZ(29,"input",16),e.qZA()(),e.TgZ(30,"nz-form-item")(31,"nz-form-label",17),e._uU(32,"Fleet"),e.qZA(),e.TgZ(33,"nz-form-control")(34,"nz-select",18),e._UZ(35,"nz-option",19),e.YNc(36,re,1,2,"nz-option",20),e.qZA()()(),e.TgZ(37,"nz-form-item")(38,"nz-form-label",21),e._uU(39,"Car Model"),e.qZA(),e.TgZ(40,"nz-form-control")(41,"nz-select",22),e.YNc(42,oe,1,2,"nz-option",20),e.qZA()()(),e.TgZ(43,"nz-form-item")(44,"nz-form-label",23),e._uU(45,"Car Color"),e.qZA(),e.TgZ(46,"nz-form-control")(47,"nz-select",24),e.YNc(48,ae,1,2,"nz-option",20),e.qZA()()(),e.TgZ(49,"nz-form-item")(50,"nz-form-label",25),e._uU(51,"Car Production Year"),e.qZA(),e.TgZ(52,"nz-form-control"),e._UZ(53,"nz-input-number",26),e.qZA()(),e.TgZ(54,"nz-form-item")(55,"nz-form-label",27),e._uU(56,"Car Plate Number"),e.qZA(),e.TgZ(57,"nz-form-control"),e._UZ(58,"input",28),e.qZA()(),e.TgZ(59,"nz-form-item")(60,"nz-form-label",29),e._uU(61,"Account Number"),e.qZA(),e.TgZ(62,"nz-form-control"),e._UZ(63,"input",30),e.qZA()(),e.TgZ(64,"nz-form-item")(65,"nz-form-label",31),e._uU(66,"Bank Name"),e.qZA(),e.TgZ(67,"nz-form-control"),e._UZ(68,"input",32),e.qZA()(),e.TgZ(69,"nz-form-item")(70,"nz-form-label",33),e._uU(71,"Bank Routing Number"),e.qZA(),e.TgZ(72,"nz-form-control"),e._UZ(73,"input",34),e.qZA()(),e.TgZ(74,"nz-form-item")(75,"nz-form-label",35),e._uU(76,"Bank Swift"),e.qZA(),e.TgZ(77,"nz-form-control"),e._UZ(78,"input",36),e.qZA()(),e.TgZ(79,"nz-form-item")(80,"nz-form-label",37),e._uU(81,"Address"),e.qZA(),e.TgZ(82,"nz-form-control"),e._UZ(83,"input",38),e.qZA()(),e.TgZ(84,"nz-form-item",39)(85,"nz-form-label",40),e._uU(86),e.ALo(87,"translate"),e.qZA(),e.TgZ(88,"nz-form-control"),e.YNc(89,ie,2,2,"nz-tag",41),e.qZA()(),e.TgZ(90,"nz-form-item")(91,"nz-form-label"),e._uU(92,"Image"),e.qZA(),e.TgZ(93,"nz-form-control")(94,"nz-upload",42),e.NdJ("nzChange",function(o){return e.CHM(n),e.oxw().handleUploadChange(o)}),e.YNc(95,le,5,4,"ng-container",43),e.YNc(96,se,1,1,"img",44),e.qZA()()()(),e.TgZ(97,"button",45),e._uU(98),e.ALo(99,"translate"),e.qZA()()}if(2&t){const n=a.ngIf,r=e.oxw();e.Q6J("formGroup",r.form),e.xp6(19),e.Q6J("ngForOf",r.genders),e.xp6(16),e.Q6J("nzValue",null),e.xp6(1),e.Q6J("ngForOf",n.fleets.nodes),e.xp6(6),e.Q6J("ngForOf",n.carModels.nodes),e.xp6(6),e.Q6J("ngForOf",n.carColors),e.xp6(38),e.hij(" ",e.lcZ(87,16,"profile.services")," "),e.xp6(3),e.Q6J("ngForOf",n.services),e.xp6(5),e.Q6J("nzAction",r.root+"upload")("nzHeaders",e.VKq(20,ce,"Bearer "+r.jwt))("nzBeforeUpload",r.beforeUpload)("nzShowUploadList",!1),e.xp6(1),e.Q6J("ngIf",!r.avatarUrl),e.xp6(1),e.Q6J("ngIf",r.avatarUrl),e.xp6(1),e.Q6J("disabled",!r.form.valid),e.xp6(1),e.hij(" ",e.lcZ(99,18,"profile.save")," ")}}let me=(()=>{class t{constructor(n,r,o,l,m){this.route=n,this.msg=r,this.updateGQL=o,this.routerHelper=l,this.fb=m,this.form=this.fb.group({id:[null,s.kI.required],firstName:[null,s.kI.required],lastName:[null,s.kI.required],mobileNumber:[null,s.kI.required],gender:[null],email:[null],fleetId:[null],carId:[null],carColorId:[null],carProductionYear:[null],carPlate:[null],accountNumber:[null],bankName:[null],bankRoutingNumber:[null],bankSwift:[null],address:[null],mediaId:[null],enabledServices:[null,s.kI.required]}),this.root=D.N.root,this.genders=Object.values(p.Y0t),this.gender=p.Y0t,this.camelCase=w.eV,this.jwt=localStorage.getItem("somi_admin_token"),this.loadingUpload=!1,this.beforeUpload=(v,E)=>new ee.y(y=>{var J;const X="image/jpeg"===v.type||"image/png"===v.type;if(!X)return this.msg.error("You can only upload JPG file!"),void y.complete();const K=(null!==(J=v.size)&&void 0!==J?J:0)/1024/1024<2;if(!K)return this.msg.error("Image must smaller than 2MB!"),void y.complete();y.next(X&&K),y.complete()})}ngOnInit(){var n,r;this.query=null===(n=this.route.parent)||void 0===n?void 0:n.data.pipe((0,_.U)(o=>o.driver)),this.subscription=null===(r=this.route.parent)||void 0===r?void 0:r.data.subscribe(o=>{var l;o.driver.data.driver.enabledServices=o.driver.data.driver.enabledServices.map(m=>m.id),this.form.patchValue(o.driver.data.driver),this.avatarUrl=null===(l=o.driver.data.driver.media)||void 0===l?void 0:l.address})}ngOnDestroy(){var n;null===(n=this.subscription)||void 0===n||n.unsubscribe()}onSubmit(){return(0,T.mG)(this,void 0,void 0,function*(){const n=this.form.value,{id:r,enabledServices:l}=n,m=(0,T._T)(n,["id","mobileNumber","enabledServices"]);yield(0,P.z)(this.updateGQL.mutate({id:r,update:m,serviceIds:l})),this.routerHelper.refresh(this.route)})}handleServiceCheckChange(n,r){n?this.form.value.enabledServices.indexOf(r.id)<0&&(this.form.value.enabledServices.push(r.id),this.form.patchValue({enabledServices:this.form.value.enabledServices})):this.form.patchValue({enabledServices:this.form.value.enabledServices.filter(o=>o!=r.id.toString())})}handleUploadChange(n){switch(n.file.status){case"uploading":break;case"done":this.form.patchValue({mediaId:n.file.response.id}),this.avatarUrl=n.file.response.address;break;case"error":this.msg.error("Network error")}}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.gz),e.Y36(L.dD),e.Y36(p.CL7),e.Y36(U.b),e.Y36(s.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-driver-profile-details"]],decls:2,vars:3,consts:[["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit",4,"ngIf"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],["formControlName","id","type","hidden","hidden",""],["formControlName","mediaId","type","hidden","hidden",""],["formControlName","enabledServices","type","hidden","hidden",""],[1,"lg:grid","lg:grid-cols-4","lg:gap-2"],["nzRequired","","nzFor","firstName"],["nz-input","","required","","formControlName","firstName","id","firstName"],["nzRequired","","nzFor","lastName"],["nz-input","","required","","formControlName","lastName","id","lastName"],["nzFor","gender"],["formControlName","gender","id","gender"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzRequired","","nzFor","mobileNumber"],["required","","formControlName","mobileNumber","id","mobileNumber"],["nzFor","email"],["nz-input","","formControlName","email","id","email"],["nzFor","fleet"],["id","fleet","formControlName","fleetId"],["nzLabel","",3,"nzValue"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzFor","carId"],["id","carId","formControlName","carId"],["nzFor","carColorId"],["id","carColorId","formControlName","carColorId"],["nzFor","carProductionYear"],["formControlName","carProductionYear","id","carProductionYear"],["nzFor","carPlate"],["nz-input","","formControlName","carPlate","id","carPlate"],["nzFor","accountNumber"],["nz-input","","formControlName","accountNumber","id","accountNumber"],["nzFor","bankName"],["nz-input","","formControlName","bankName","id","bankName"],["nzFor","bankRoutingNumber"],["nz-input","","formControlName","bankRoutingNumber","id","bankRoutingNumber"],["nzFor","bankSwift"],["nz-input","","formControlName","bankSwift","id","bankSwift"],["nzFor","address"],["nz-input","","formControlName","address","id","address"],[1,"lg:col-span-4"],["nzRequired",""],["nzMode","checkable",3,"nzChecked","nzCheckedChange",4,"ngFor","ngForOf"],["nzListType","picture-card",3,"nzAction","nzHeaders","nzBeforeUpload","nzShowUploadList","nzChange"],[4,"ngIf"],["style","width: 100%",3,"src",4,"ngIf"],["nz-button","","nzType","default","type","submit",3,"disabled"],[3,"nzLabel","nzValue"],[3,"nzValue","nzLabel"],["nzMode","checkable",3,"nzChecked","nzCheckedChange"],["nz-icon","",1,"upload-icon",3,"nzType"],[1,"ant-upload-text"],[2,"width","100%",3,"src"]],template:function(n,r){if(1&n&&(e.YNc(0,ue,100,22,"form",0),e.ALo(1,"async")),2&n){let o;e.Q6J("ngIf",null==(o=e.lcZ(1,1,r.query))?null:o.data)}},directives:[c.O5,s._Y,s.JL,f.Lr,s.sg,s.Fj,s.JJ,s.u,b.SK,f.Nx,b.t3,f.iK,f.Fd,I.Zp,s.Q7,A.Vq,c.sg,A.Ip,Y._,Z.j,ne.FY,F.w,R.Ls,N.ix,O.dQ],pipes:[c.Ov,h.X$],styles:["nz-input-number[_ngcontent-%COMP%]{width:100%}"]}),t})();function de(t,a){if(1&t&&(e.TgZ(0,"div")(1,"a",2),e._UZ(2,"img",3),e.qZA()()),2&t){const n=a.$implicit,r=e.oxw(2);e.xp6(1),e.s9C("href",r.root+n.address,e.LSH),e.xp6(1),e.s9C("src",r.root+n.address,e.LSH)}}function pe(t,a){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,de,3,2,"div",1),e.qZA()),2&t){const n=a.ngIf;e.xp6(1),e.Q6J("ngForOf",n)}}let fe=(()=>{class t{constructor(n){this.route=n,this.root=D.N.root}ngOnInit(){var n;this.query=null===(n=this.route.parent)||void 0===n?void 0:n.data.pipe((0,_.U)(r=>r.driver))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-driver-profile-documents"]],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["target","_blank",3,"href"],[2,"width","90%","margin","10px",3,"src"]],template:function(n,r){if(1&n&&(e.YNc(0,pe,2,1,"div",0),e.ALo(1,"async")),2&n){let o;e.Q6J("ngIf",null==(o=e.lcZ(1,1,r.query))||null==o.data||null==o.data.driver?null:o.data.driver.documents)}},directives:[c.O5,c.sg],pipes:[c.Ov],encapsulation:2}),t})();var x=i(5233),g=i(7633),u=i(939),S=i(404),C=i(8614);function _e(t,a){if(1&t&&(e.TgZ(0,"nz-tag",11),e._uU(1),e.qZA()),2&t){const n=a.$implicit,r=e.oxw(3);e.Q6J("nzColor",r.tagColor.boolean(n.isGood)),e.xp6(1),e.Oqu(n.title)}}function ge(t,a){if(1&t&&(e.TgZ(0,"a",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw().$implicit;e.Q6J("routerLink","/requests/view/"+n.requestId),e.xp6(1),e.Oqu(e.lcZ(2,2,"table.viewRequest"))}}function ze(t,a){if(1&t&&(e.TgZ(0,"tr")(1,"td",8),e.ALo(2,"date"),e._uU(3),e.ALo(4,"timeago"),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",5),e._uU(8),e.qZA(),e.TgZ(9,"td",6),e.YNc(10,_e,2,2,"nz-tag",9),e.qZA(),e.TgZ(11,"td"),e.YNc(12,ge,3,4,"a",10),e.qZA()()),2&t){const n=a.$implicit;e.xp6(1),e.Q6J("nz-tooltip",e.xi3(2,6,n.reviewTimestamp,"short")),e.xp6(2),e.Oqu(e.lcZ(4,9,n.reviewTimestamp)),e.xp6(3),e.hij("",n.score,"%"),e.xp6(2),e.Oqu(n.description),e.xp6(2),e.Q6J("ngForOf",n.parameters),e.xp6(2),e.Q6J("ngIf",null!==n.requestId)}}function ve(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"nz-table",1,2),e.NdJ("nzQueryParams",function(){return e.CHM(n),e.oxw().tableService.onTableQueryParamsChange}),e.TgZ(2,"thead")(3,"tr")(4,"th",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th",4),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",5),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th",6),e._uU(14,"Parameters"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,ze,13,11,"tr",7),e.qZA()()}if(2&t){const n=a.ngIf,r=e.MAs(1);e.Q6J("nzFrontPagination",!1)("nzData",n.nodes),e.xp6(5),e.Oqu(e.lcZ(6,7,"profile.dateTime")),e.xp6(3),e.Oqu(e.lcZ(9,9,"profile.rating")),e.xp6(3),e.Oqu(e.lcZ(12,11,"profile.review")),e.xp6(5),e.Oqu(e.lcZ(17,13,"profile.actions")),e.xp6(3),e.Q6J("ngForOf",r.data)}}let Ze=(()=>{class t{constructor(n,r,o){this.tagColor=n,this.route=r,this.tableService=o}ngOnInit(){this.query=this.route.data.pipe((0,_.U)(n=>n.feedbacks))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(x.k),e.Y36(d.gz),e.Y36(g.w))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-driver-profile-feedbacks"]],decls:2,vars:3,consts:[["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzQueryParams",4,"ngIf"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzQueryParams"],["table",""],["nzShowSort","","nzColumnKey","reviewTimestamp"],["nzShowSort","","nzColumnKey","score"],[1,"hidden","md:table-cell"],[1,"hidden","lg:table-cell"],[4,"ngFor","ngForOf"],[3,"nz-tooltip"],[3,"nzColor",4,"ngFor","ngForOf"],[3,"routerLink",4,"ngIf"],[3,"nzColor"],[3,"routerLink"]],template:function(n,r){if(1&n&&(e.YNc(0,ve,20,15,"nz-table",0),e.ALo(1,"async")),2&n){let o;e.Q6J("ngIf",null==(o=e.lcZ(1,1,r.query))||null==o.data?null:o.data.feedbacks)}},directives:[c.O5,u.N8,u.Om,u.$Z,u.Uo,u._C,u.qD,u.p0,c.sg,S.SY,Z.j,d.yS],pipes:[c.Ov,h.X$,c.uU,C.wr],encapsulation:2}),t})(),j=(()=>{class t{constructor(n,r){this.gql=n,this.tableService=r}resolve(n,r){var o;const l=this.tableService.deserializeQueryParams(n.queryParams);return this.gql.fetch({id:null===(o=n.parent)||void 0===o?void 0:o.params.id,paging:l.paging})}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(p.FH4),e.LFG(g.w))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();var M=i(7484);function he(t,a){if(1&t&&(e.TgZ(0,"nz-tag",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw().$implicit,r=e.oxw(2);e.Q6J("nzColor",r.tagColor.getTransactionStatusStatusColor(n.status)),e.xp6(1),e.Oqu(e.lcZ(2,2,"enum.transactionStatus."+n.status))}}function Te(t,a){if(1&t&&(e.TgZ(0,"a",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw().$implicit;e.Q6J("routerLink","/management/users/view/"+n.operatorId),e.xp6(1),e.Oqu(e.lcZ(2,2,"table.viewOperator"))}}function be(t,a){if(1&t&&(e.TgZ(0,"a",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw().$implicit;e.Q6J("routerLink","/management/payment-gateways/view/"+n.paymentGatewayId),e.xp6(1),e.Oqu(e.lcZ(2,2,"table.viewGateway"))}}function Ae(t,a){if(1&t&&(e.TgZ(0,"a",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const n=e.oxw().$implicit;e.Q6J("routerLink","/requests/view/"+n.requestId),e.xp6(1),e.Oqu(e.lcZ(2,2,"table.viewRequest"))}}function xe(t,a){if(1&t&&(e.TgZ(0,"tr")(1,"td",26),e.ALo(2,"date"),e._uU(3),e.ALo(4,"timeago"),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"translate"),e.ALo(8,"translate"),e.YNc(9,he,3,4,"nz-tag",27),e.qZA(),e.TgZ(10,"td",28),e._uU(11),e.ALo(12,"currency"),e.qZA(),e.TgZ(13,"td",23),e._uU(14),e.qZA(),e.TgZ(15,"td",24),e._uU(16),e.qZA(),e.TgZ(17,"td"),e.YNc(18,Te,3,4,"a",29),e.YNc(19,be,3,4,"a",29),e.YNc(20,Ae,3,4,"a",29),e.qZA()()),2&t){const n=a.$implicit;e.xp6(1),e.Q6J("nz-tooltip",e.xi3(2,12,n.createdAt,"short")),e.xp6(2),e.hij(" ",e.lcZ(4,15,n.createdAt)," "),e.xp6(3),e.hij(" ","Deduct"===n.action?e.lcZ(7,17,"enum.transactionType."+n.deductType):e.lcZ(8,19,"enum.transactionType."+n.rechargeType)," "),e.xp6(3),e.Q6J("ngIf","Done"!=n.status),e.xp6(1),e.Q6J("ngClass","Recharge"===n.action?"text-green-500":"text-red-500"),e.xp6(1),e.AsE(" ","Recharge"===n.action?"+":"","",e.xi3(12,21,n.amount,n.currency)," "),e.xp6(3),e.Oqu(n.refrenceNumber),e.xp6(2),e.Oqu(n.description),e.xp6(2),e.Q6J("ngIf",null!==n.operatorId),e.xp6(1),e.Q6J("ngIf",null!==n.paymentGatewayId),e.xp6(1),e.Q6J("ngIf",null!==n.requestId)}}function Ce(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"nz-table",20,21),e.NdJ("nzQueryParams",function(o){return e.CHM(n),e.oxw().tableService.onTableQueryParamsChange(o)}),e.TgZ(2,"thead")(3,"tr")(4,"th",22),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th",23),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th",24),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,xe,21,24,"tr",25),e.qZA()()}if(2&t){const n=a.ngIf,r=e.MAs(1);e.Q6J("nzFrontPagination",!1)("nzData",n.nodes)("nzTotal",n.totalCount),e.xp6(4),e.Q6J("nzSortFn",!0),e.xp6(1),e.hij(" ",e.lcZ(6,11,"profile.dateTime")," "),e.xp6(3),e.hij(" ",e.lcZ(9,13,"profile.transactionType")," "),e.xp6(3),e.hij(" ",e.lcZ(12,15,"profile.amount")," "),e.xp6(3),e.hij(" ",e.lcZ(15,17,"profile.documentNumber")," "),e.xp6(3),e.hij(" ",e.lcZ(18,19,"profile.details")," "),e.xp6(3),e.Oqu(e.lcZ(21,21,"profile.actions")),e.xp6(3),e.Q6J("ngForOf",r.data)}}function qe(t,a){if(1&t&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&t){const n=a.$implicit;e.xp6(2),e.Oqu(e.xi3(3,1,n.balance,n.currency))}}function ye(t,a){if(1&t&&(e.TgZ(0,"nz-table",32,33)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"Amount"),e.qZA()()(),e.TgZ(6,"tbody"),e.YNc(7,qe,4,4,"tr",25),e.qZA()()),2&t){const n=a.ngIf,r=e.MAs(1);e.Q6J("nzData",n)("nzTotal",n.length),e.xp6(7),e.Q6J("ngForOf",r.data)}}function De(t,a){1&t&&e._UZ(0,"div")}function Pe(t,a){if(1&t&&(e._UZ(0,"nz-option",35),e.ALo(1,"translate")),2&t){const n=a.$implicit;e.Q6J("nzLabel",e.lcZ(1,2,"enum.transactionType."+n))("nzValue",n)}}function Le(t,a){if(1&t&&(e.TgZ(0,"nz-form-item")(1,"nz-form-label"),e._uU(2,"Recharge Type"),e.qZA(),e.TgZ(3,"nz-form-control")(4,"nz-select",34),e.YNc(5,Pe,2,4,"nz-option",14),e.qZA()()()),2&t){const n=e.oxw();e.xp6(5),e.Q6J("ngForOf",n.rechargeTypes)}}function Ue(t,a){if(1&t&&(e._UZ(0,"nz-option",35),e.ALo(1,"translate")),2&t){const n=a.$implicit;e.Q6J("nzLabel",e.lcZ(1,2,"enum.transactionType."+n))("nzValue",n)}}function Fe(t,a){if(1&t&&(e.TgZ(0,"nz-form-item")(1,"nz-form-label"),e._uU(2,"Deduct Type"),e.qZA(),e.TgZ(3,"nz-form-control")(4,"nz-select",36),e.YNc(5,Ue,2,4,"nz-option",14),e.qZA()()()),2&t){const n=e.oxw();e.xp6(5),e.Q6J("ngForOf",n.deductTypes)}}function Ne(t,a){if(1&t&&e._UZ(0,"nz-option",35),2&t){const n=a.$implicit;e.Q6J("nzLabel",n.currency)("nzValue",n.currency)}}let Oe=(()=>{class t{constructor(n,r,o,l,m,v,E){this.route=n,this.tableService=r,this.tagColor=o,this.fb=l,this.createTransactionGQL=m,this.routerHelper=v,this.msg=E,this.formTransaction=this.fb.group({action:[null,s.kI.required],rechargeType:[null],deductType:[null],amount:[0,s.kI.required],currency:[null,s.kI.required],description:[null],refrenceNumber:[null]}),this.deductTypes=Object.values(p.TFb),this.rechargeTypes=Object.values(p.Q8e)}ngOnInit(){this.query=this.route.data.pipe((0,_.U)(n=>n.financials))}onSubmitTransaction(){var n;return(0,T.mG)(this,void 0,void 0,function*(){if("Recharge"!=this.formTransaction.value.action||null!=this.formTransaction.value.rechargeType)if("Deduct"!=this.formTransaction.value.action||null!=this.formTransaction.value.deductType){this.formTransaction.value.driverId=null===(n=this.route.parent)||void 0===n?void 0:n.snapshot.params.id;try{yield(0,P.z)(this.createTransactionGQL.mutate({input:this.formTransaction.value})),this.msg.success("Transaction Submitted."),this.routerHelper.refresh(this.route),this.formTransaction.patchValue({})}catch(r){this.msg.error(r.message)}}else this.msg.error("Please select the transaction type.");else this.msg.error("Please select the transaction type.")})}getUniquieCurrencies(n){return null==n?[]:[...new Set(n)]}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.gz),e.Y36(g.w),e.Y36(x.k),e.Y36(s.qu),e.Y36(p.nAg),e.Y36(U.b),e.Y36(L.dD))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-driver-profile-financial"]],decls:44,vars:20,consts:[["fxLayout","row","fxLayoutGap","4px",1,"dt-actionbar"],["nzTitle","Transactions Records","nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams",4,"ngIf"],["nzTitle","Wallet Summary","nzBordered","","class","mt-2",3,"nzFrontPagination","nzData","nzTotal",4,"ngIf"],[1,"mt-2",3,"nzTitle"],["nz-form","",3,"formGroup","ngSubmit"],[1,"lg:grid","lg:grid-cols-2","lg:gap-2"],["nzRequired",""],["formControlName","action","nzRequired",""],["nzLabel","Deduct","nzValue","Deduct"],["nzLabel","Recharge","nzValue","Recharge"],[4,"ngIf"],["nzRequired","","nzFor","amount"],["formControlName","amount","id","amount","required","",1,"w-full"],["formControlName","currency","id","currency","required",""],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzFor","refrenceNumber"],["nz-input","","formControlName","refrenceNumber","id","refrenceNumber"],["nzFor","description"],["nz-input","","formControlName","description","id","description"],["nz-button","","nzType","default","type","submit",1,"float-right","mt-2",3,"disabled"],["nzTitle","Transactions Records","nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams"],["table",""],["nzColumnKey","createdAt",3,"nzSortFn"],[1,"hidden","lg:table-cell"],[1,"hidden","xl:table-cell"],[4,"ngFor","ngForOf"],[3,"nz-tooltip"],[3,"nzColor",4,"ngIf"],[3,"ngClass"],[3,"routerLink",4,"ngIf"],[3,"nzColor"],[3,"routerLink"],["nzTitle","Wallet Summary","nzBordered","",1,"mt-2",3,"nzFrontPagination","nzData","nzTotal"],["walletTable",""],["formControlName","rechargeType"],[3,"nzLabel","nzValue"],["formControlName","deductType"]],template:function(n,r){if(1&n&&(e._UZ(0,"div",0),e.YNc(1,Ce,24,23,"nz-table",1),e.ALo(2,"async"),e.YNc(3,ye,8,3,"nz-table",2),e.ALo(4,"async"),e.TgZ(5,"nz-card",3),e.ALo(6,"translate"),e.TgZ(7,"form",4),e.NdJ("ngSubmit",function(){return r.onSubmitTransaction()}),e.TgZ(8,"div",5)(9,"nz-form-item")(10,"nz-form-label",6),e._uU(11,"Type"),e.qZA(),e.TgZ(12,"nz-form-control")(13,"nz-select",7),e._UZ(14,"nz-option",8)(15,"nz-option",9),e.qZA()()(),e.YNc(16,De,1,0,"div",10),e.YNc(17,Le,6,1,"nz-form-item",10),e.YNc(18,Fe,6,1,"nz-form-item",10),e.TgZ(19,"nz-form-item")(20,"nz-form-label",11),e._uU(21,"Amount"),e.qZA(),e.TgZ(22,"nz-form-control"),e._UZ(23,"nz-input-number",12),e.qZA()(),e.TgZ(24,"nz-form-item")(25,"nz-form-label",6),e._uU(26,"Currency"),e.qZA(),e.TgZ(27,"nz-form-control")(28,"nz-select",13),e.YNc(29,Ne,1,2,"nz-option",14),e.ALo(30,"async"),e.qZA()()(),e.TgZ(31,"nz-form-item")(32,"nz-form-label",15),e._uU(33,"Document Number"),e.qZA(),e.TgZ(34,"nz-form-control"),e._UZ(35,"input",16),e.qZA()(),e.TgZ(36,"nz-form-item")(37,"nz-form-label",17),e._uU(38,"Description"),e.qZA(),e.TgZ(39,"nz-form-control"),e._UZ(40,"input",18),e.qZA()()(),e.TgZ(41,"button",19),e._uU(42),e.ALo(43,"translate"),e.qZA()()()),2&n){let o,l,m;e.xp6(1),e.Q6J("ngIf",null==(o=e.lcZ(2,10,r.query))||null==o.data||null==o.data.driver?null:o.data.driver.transactions),e.xp6(2),e.Q6J("ngIf",null==(l=e.lcZ(4,12,r.query))||null==l.data||null==l.data.driver?null:l.data.driver.wallets),e.xp6(2),e.s9C("nzTitle",e.lcZ(6,14,"profile.insertTransaction")),e.xp6(2),e.Q6J("formGroup",r.formTransaction),e.xp6(9),e.Q6J("ngIf",null===r.formTransaction.value.action),e.xp6(1),e.Q6J("ngIf","Recharge"===r.formTransaction.value.action),e.xp6(1),e.Q6J("ngIf","Deduct"===r.formTransaction.value.action),e.xp6(11),e.Q6J("ngForOf",r.getUniquieCurrencies(null==(m=e.lcZ(30,16,r.query))||null==m.data||null==m.data.regions?null:m.data.regions.nodes)),e.xp6(12),e.Q6J("disabled",!r.formTransaction.valid),e.xp6(1),e.hij(" ",e.lcZ(43,18,"profile.submit")," ")}},directives:[c.O5,u.N8,u.Om,u.$Z,u.Uo,u._C,u.qD,u.p0,c.sg,S.SY,Z.j,c.mk,d.yS,M.bd,s._Y,s.JL,f.Lr,s.sg,b.SK,f.Nx,b.t3,f.iK,f.Fd,A.Vq,s.JJ,s.u,A.Ip,Y._,s.Q7,I.Zp,s.Fj,N.ix,O.dQ,F.w],pipes:[c.Ov,h.X$,c.uU,C.wr,c.H9],encapsulation:2}),t})(),G=(()=>{class t{constructor(n,r){this.gql=n,this.tableService=r}resolve(n,r){var o;const l=this.tableService.deserializeQueryParams(n.queryParams);return this.gql.fetch(Object.assign({id:null===(o=n.parent)||void 0===o?void 0:o.params.id},l))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(p.Zdg),e.LFG(g.w))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();function Se(t,a){if(1&t&&(e.TgZ(0,"tr")(1,"td",6),e.ALo(2,"date"),e._uU(3),e.ALo(4,"timeago"),e.qZA(),e.TgZ(5,"td",4),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"td")(11,"nz-tag",7),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"td")(15,"a",8),e._uU(16),e.ALo(17,"translate"),e.qZA()()()),2&t){const n=a.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("nz-tooltip",e.xi3(2,8,n.createdOn,"short")),e.xp6(2),e.Oqu(e.lcZ(4,11,n.createdOn)),e.xp6(3),e.Oqu(n.addresses[0]),e.xp6(2),e.Oqu(e.xi3(9,13,n.costAfterCoupon,n.currency)),e.xp6(3),e.Q6J("nzColor",r.tagColor.orderStatus(n.status)),e.xp6(1),e.Oqu(e.lcZ(13,16,"enum.request."+n.status)),e.xp6(3),e.Q6J("routerLink","/requests/view/"+n.id),e.xp6(1),e.Oqu(e.lcZ(17,18,"profile.view"))}}function Qe(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"nz-table",1,2),e.NdJ("nzQueryParams",function(o){return e.CHM(n),e.oxw().tableService.onTableQueryParamsChange(o)}),e.TgZ(2,"thead")(3,"tr")(4,"th",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th",4),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,Se,18,20,"tr",5),e.qZA()()}if(2&t){const n=a.ngIf,r=e.MAs(1);e.Q6J("nzFrontPagination",!1)("nzData",n),e.xp6(4),e.Q6J("nzSortFn",!0),e.xp6(1),e.hij(" ",e.lcZ(6,9,"profile.dateTime")," "),e.xp6(3),e.hij(" ",e.lcZ(9,11,"profile.locations")," "),e.xp6(3),e.hij(" ",e.lcZ(12,13,"profile.cost")," "),e.xp6(3),e.hij(" ",e.lcZ(15,15,"profile.status")," "),e.xp6(3),e.Oqu(e.lcZ(18,17,"profile.actions")),e.xp6(3),e.Q6J("ngForOf",r.data)}}let Je=(()=>{class t{constructor(n,r,o){this.route=n,this.tagColor=r,this.tableService=o,this.statuses=Object.keys(p.iFo).map(l=>({text:l,value:l}))}ngOnInit(){this.query=this.route.data.pipe((0,_.U)(n=>n.orders))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.gz),e.Y36(x.k),e.Y36(g.w))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-driver-profile-orders"]],decls:2,vars:3,consts:[["nzShowSizeChanger","","class","mt-4","nzBordered","",3,"nzFrontPagination","nzData","nzQueryParams",4,"ngIf"],["nzShowSizeChanger","","nzBordered","",1,"mt-4",3,"nzFrontPagination","nzData","nzQueryParams"],["table",""],["nzColumnKey","createdOn",3,"nzSortFn"],[1,"hidden","lg:table-cell"],[4,"ngFor","ngForOf"],[3,"nz-tooltip"],[3,"nzColor"],[3,"routerLink"]],template:function(n,r){if(1&n&&(e.YNc(0,Qe,21,19,"nz-table",0),e.ALo(1,"async")),2&n){let o;e.Q6J("ngIf",null==(o=e.lcZ(1,1,r.query))||null==o.data||null==o.data.driver||null==o.data.driver.orders?null:o.data.driver.orders.nodes)}},directives:[c.O5,u.N8,u.Om,u.$Z,u.Uo,u._C,u.qD,u.p0,c.sg,S.SY,Z.j,d.yS],pipes:[c.Ov,h.X$,c.uU,C.wr,c.H9],encapsulation:2}),t})(),H=(()=>{class t{constructor(n,r){this.gql=n,this.tableService=r}resolve(n,r){var o;const l=this.tableService.deserializeQueryParams(n.queryParams);return this.gql.fetch(Object.assign({driverId:null===(o=n.parent)||void 0===o?void 0:o.params.id},l))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(p.Bho),e.LFG(g.w))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();var z=i(1945),ke=i(6699),Q=i(3677),$=i(4219),V=i(3098),q=i(868);function we(t,a){if(1&t&&(e.TgZ(0,"nz-descriptions-item",9),e.ALo(1,"translate"),e._uU(2),e.ALo(3,"timeago"),e.qZA()),2&t){const n=e.oxw().ngIf;e.Q6J("nzTitle",e.lcZ(1,2,"driver.profile.lastSeenAt")),e.xp6(2),e.Oqu(null!=n.lastSeenTimestamp?e.lcZ(3,4,n.lastSeenTimestamp):"-")}}function Ie(t,a){1&t&&(e.TgZ(0,"a",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"driver.profile.details")))}function Ye(t,a){1&t&&(e.TgZ(0,"a",18),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"driver.profile.orders")))}function Re(t,a){1&t&&(e.TgZ(0,"a",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"driver.profile.financials")))}function je(t,a){1&t&&(e.TgZ(0,"a",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"driver.profile.reviews")))}function Me(t,a){1&t&&(e.TgZ(0,"a",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"driver.profile.documents")))}function Ge(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"nz-page-header")(1,"nz-page-header-title"),e._UZ(2,"nz-avatar",1),e._uU(3),e.qZA(),e.TgZ(4,"nz-page-header-tags")(5,"nz-tag",2),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"nz-page-header-extra")(9,"button",3),e._uU(10),e.ALo(11,"translate"),e._UZ(12,"i",4),e.qZA(),e.TgZ(13,"nz-dropdown-menu",null,5)(15,"ul",6)(16,"li",7),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.PendingApproval)}),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"li",7),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.Offline)}),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"li",7),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.Blocked)}),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"li",7),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.SoftReject)}),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"li",7),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.HardReject)}),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"li",7),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.Offline)}),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"li",7),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.WaitingDocuments)}),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"li",8),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.InService)}),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"li",8),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return o.changeStatus(o.driverStatus.Online)}),e._uU(41),e.ALo(42,"translate"),e.qZA()()()(),e.TgZ(43,"nz-page-header-content")(44,"nz-descriptions")(45,"nz-descriptions-item",9),e.ALo(46,"translate"),e._uU(47),e.ALo(48,"timeago"),e.qZA(),e.YNc(49,we,4,6,"nz-descriptions-item",10),e.TgZ(50,"nz-descriptions-item",9),e.ALo(51,"translate"),e._uU(52),e.qZA()()(),e.TgZ(53,"nz-page-header-footer")(54,"nz-tabset",11)(55,"nz-tab"),e.YNc(56,Ie,3,3,"a",12),e.qZA(),e.TgZ(57,"nz-tab"),e.YNc(58,Ye,3,3,"a",13),e.qZA(),e.TgZ(59,"nz-tab"),e.YNc(60,Re,3,3,"a",14),e.qZA(),e.TgZ(61,"nz-tab"),e.YNc(62,je,3,3,"a",15),e.qZA(),e.TgZ(63,"nz-tab"),e.YNc(64,Me,3,3,"a",16),e.qZA()(),e._UZ(65,"router-outlet"),e.qZA()()}if(2&t){const n=a.ngIf,r=e.MAs(14),o=e.oxw();e.xp6(2),e.Q6J("nzSrc",null!=n.media&&n.media.address?o.root+(null==n.media?null:n.media.address):void 0),e.xp6(1),e.AsE("",n.firstName," ",n.lastName," "),e.xp6(2),e.Q6J("nzColor",o.tagColor.driver(n.status)),e.xp6(1),e.Oqu(e.lcZ(7,22,"enum.driver.status."+o.toCamelCase(n.status))),e.xp6(3),e.Q6J("nzDropdownMenu",r),e.xp6(1),e.hij(" ",e.lcZ(11,24,"driver.profile.changeStatus")," "),e.xp6(7),e.Oqu(e.lcZ(18,26,"enum.driver.status.pendingApproval")),e.xp6(3),e.hij("",e.lcZ(21,28,"enum.driver.status.approved")," "),e.xp6(3),e.Oqu(e.lcZ(24,30,"enum.driver.status.blocked")),e.xp6(3),e.Oqu(e.lcZ(27,32,"enum.driver.status.softReject")),e.xp6(3),e.Oqu(e.lcZ(30,34,"enum.driver.status.hardReject")),e.xp6(3),e.Oqu(e.lcZ(33,36,"enum.driver.status.offline")),e.xp6(3),e.Oqu(e.lcZ(36,38,"enum.driver.status.waitingDocuments")),e.xp6(3),e.Oqu(e.lcZ(39,40,"enum.driver.status.inService")),e.xp6(3),e.Oqu(e.lcZ(42,42,"enum.driver.status.online")),e.xp6(4),e.Q6J("nzTitle",e.lcZ(46,44,"profile.registeredOn")),e.xp6(2),e.Oqu(e.lcZ(48,46,n.registrationTimestamp)),e.xp6(2),e.Q6J("ngIf","Online"!==n.status),e.xp6(1),e.Q6J("nzTitle",e.lcZ(51,48,"driver.profile.rating")),e.xp6(2),e.Oqu(null!==n.rating?n.rating+"%("+n.reviewCount+" reviews)":"N/A"),e.xp6(2),e.Q6J("nzLinkExact",!1)}}let He=(()=>{class t{constructor(n,r,o,l,m){this.route=n,this.tagColor=r,this.message=o,this.updateGQL=l,this.routerHelper=m,this.driverStatus=p.K$m,this.root=D.N.root,this.toCamelCase=w.eV}ngOnInit(){this.query=this.route.data.pipe((0,_.U)(n=>n.driver))}changeStatus(n){var r;return(0,T.mG)(this,void 0,void 0,function*(){const o=null!==(r=this.route.snapshot.params.id)&&void 0!==r?r:0;yield(0,P.z)(this.updateGQL.mutate({id:o,status:n})),this.routerHelper.refresh(this.route)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.gz),e.Y36(x.k),e.Y36(L.dD),e.Y36(p.hQu),e.Y36(U.b))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-driver-profile"]],decls:3,vars:3,consts:[[4,"ngIf"],["nzIcon","user",3,"nzSrc"],[3,"nzColor"],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["menu4","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-menu-item","","hidden","",3,"click"],[3,"nzTitle"],[3,"nzTitle",4,"ngIf"],["nzLinkRouter","",1,"mb-2",3,"nzLinkExact"],["nz-tab-link","","routerLink","details",4,"nzTabLink"],["nz-tab-link","","routerLink","orders",4,"nzTabLink"],["nz-tab-link","","routerLink","financial",4,"nzTabLink"],["nz-tab-link","","routerLink","reviews",4,"nzTabLink"],["nz-tab-link","","routerLink","documents",4,"nzTabLink"],["nz-tab-link","","routerLink","details"],["nz-tab-link","","routerLink","orders"],["nz-tab-link","","routerLink","financial"],["nz-tab-link","","routerLink","reviews"],["nz-tab-link","","routerLink","documents"]],template:function(n,r){if(1&n&&(e.TgZ(0,"nz-card"),e.YNc(1,Ge,66,50,"nz-page-header",0),e.ALo(2,"async"),e.qZA()),2&n){let o;e.xp6(1),e.Q6J("ngIf",null==(o=e.lcZ(2,1,r.query))||null==o.data?null:o.data.driver)}},directives:[M.bd,c.O5,z.$O,z.u9,ke.Dz,z.ZJ,Z.j,z.Jp,N.ix,O.dQ,F.w,Q.wA,Q.cm,R.Ls,Q.RR,$.wO,$.r9,z.u5,V.R7,V.uj,z.$,q.xH,q.xw,q.Fx,q.Ao,d.yS,d.lC],pipes:[c.Ov,h.X$,C.wr],encapsulation:2}),t})(),B=(()=>{class t{constructor(n){this.gql=n}resolve(n,r){return this.gql.fetch({id:n.params.id})}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(p.LPf))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();const $e=[{path:"",component:He,resolve:{driver:B},runGuardsAndResolvers:"paramsOrQueryParamsChange",children:[{path:"",redirectTo:"details"},{path:"details",component:me},{path:"orders",component:Je,resolve:{orders:H},runGuardsAndResolvers:"paramsOrQueryParamsChange"},{path:"financial",component:Oe,resolve:{financials:G},runGuardsAndResolvers:"paramsOrQueryParamsChange"},{path:"reviews",component:Ze,resolve:{feedbacks:j},runGuardsAndResolvers:"paramsOrQueryParamsChange"},{path:"documents",component:fe}]}];let Ve=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[B,G,j,H],imports:[[d.Bz.forChild($e)],d.Bz]}),t})(),Be=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[Ve,W.m]]}),t})()}}]);