{"version":3,"file":"src_app_cms_financials_admin-transactions_admin-transactions_module_ts.js","mappings":";;;;;;;;;;;;;;;AACyD;;;AAOlD,MAAM,YAAY;IACvB,YAAoB,MAAc,EAAU,KAAqB;QAA7C,WAAM,GAAN,MAAM,CAAQ;QAAU,UAAK,GAAL,KAAK,CAAgB;IAAG,CAAC;IAE7D,oBAAoB,CAAC,MAA0B;QACrD,MAAM,GAAG,GAAQ,EAAE,CAAC;QACpB,IAAI,OAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,SAAS,IAAG,CAAC,EAAE;YACzB,GAAG,CAAC,WAAW,CAAC,GAAG,MAAM,CAAC,SAAS,CAAC;SACrC;aAAM;YACL,GAAG,CAAC,WAAW,CAAC,GAAG,SAAS,CAAC;SAC9B;QACD,IAAI,OAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,QAAQ,KAAI,EAAE,EAAE;YAC1B,GAAG,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC;SACnC;QACD,IAAI,MAAM,CAAC,MAAM,IAAI,IAAI,EAAE;YACzB,MAAM,WAAW,GAAG,MAAM,CAAC,MAAM;iBAC9B,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,IAAI,GAAG,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;iBAC1D,GAAG,CACF,CAAC,IAAI,EAAE,EAAE,CACP,GAAG,IAAI,CAAC,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IACpD,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAC1D,EAAE,CACL,CAAC;YACJ,GAAG,CAAC,QAAQ,CAAC;gBACX,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;SAC9D;QACD,IAAI,MAAM,CAAC,IAAI,IAAI,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YACjD,MAAM,SAAS,GAAG,MAAM,CAAC,IAAI;iBAC1B,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,CAAC;iBAClC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,KAAK,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC;YACxE,GAAG,CAAC,MAAM,CAAC,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;SACtE;QACD,OAAO,GAAG,CAAC;IACb,CAAC;IAED,wBAAwB,CAAC,MAA0B;QACjD,MAAM,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;QAChD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE;YACvB,UAAU,EAAE,IAAI,CAAC,KAAK;YACtB,WAAW,EAAE,KAAK;YAClB,mBAAmB,EAAE,OAAO;SAC7B,CAAC,CAAC;IACL,CAAC;IAED,UAAU,CAAC,GAAW,EAAE,KAAyB;;QAC/C,MAAM,EAAE,GAAG,IAAI,CAAC,sBAAsB,CAAW,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7D,MAAM,UAAU,GAAG,QAAE,CAAC,MAAM,mCAAI,EAAE,CAAC;QACnC,IAAI,KAAK,IAAI,SAAS,EAAE;YACtB,UAAU,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;SACnC;aAAM;YACL,UAAU,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;SACtB;QACD,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;aACpC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YACX,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3C,OAAO,IAAI,CAAC;aACb;YACD,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/C,MAAM,KAAK,GACT,MAAM,IAAI,IAAI;gBACZ,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;gBACnC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC;YAC9B,OAAO,GAAG,GAAG,IAAI,MAAM,IAAI,KAAK,EAAE,CAAC;QACrC,CAAC,CAAC;aACD,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC;QAChC,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAClE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE;YACvB,UAAU,EAAE,IAAI,CAAC,KAAK;YACtB,WAAW,EAAE,EAAE,MAAM,EAAE;YACvB,mBAAmB,EAAE,OAAO;SAC7B,CAAC,CAAC;IACL,CAAC;IAED,WAAW,CAAC,GAAW,EAAE,KAA2B;;QAClD,MAAM,EAAE,GAAG,IAAI,CAAC,sBAAsB,CAAW,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7D,MAAM,UAAU,GAAG,QAAE,CAAC,MAAM,mCAAI,EAAE,CAAC;QACnC,IAAI,KAAK,IAAI,SAAS,EAAE;YACtB,UAAU,CAAC,GAAG,CAAC,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;SACtC;aAAM;YACL,UAAU,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;SACtB;QACD,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;aACpC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YACX,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3C,OAAO,IAAI,CAAC;aACb;YACD,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/C,MAAM,KAAK,GACT,MAAM,IAAI,IAAI,IAAI,MAAM,IAAI,SAAS;gBACnC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;gBACnC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC;YAE9B,OAAO,GAAG,GAAG,IAAI,MAAM,IAAI,KAAK,EAAE,CAAC;QACrC,CAAC,CAAC;aACD,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC;QAChC,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAClE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE;YACvB,UAAU,EAAE,IAAI,CAAC,KAAK;YACtB,WAAW,EAAE,EAAE,MAAM,EAAE;YACvB,mBAAmB,EAAE,OAAO;SAC7B,CAAC,CAAC;IACL,CAAC;IAED,WAAW,CAAC,GAAW,EAAE,KAAuB;QAC9C,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;QAChC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC;IACnB,CAAC;IAED,WAAW,CAAC,GAAW,EAAE,IAAY;QACnC,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACzC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;QAChB,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;QACvB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;IAED,sBAAsB,CACpB,WAAgB;;QAMhB,MAAM,OAAO,GAAG,WAAW,CAAC,IAAI;YAC9B,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,KAAa,EAAE,EAAE,CAAC,CAAC;gBAClD,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAwB;gBACjD,SAAS,EAAE,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAkB;aAChD,CAAC,CAAC;YACL,CAAC,CAAC,EAAE,CAAC;QACP,MAAM,MAAM,GAAQ,EAAE,CAAC;QACvB,IAAI,WAAW,CAAC,MAAM,IAAI,IAAI,EAAE;YAC9B,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,IAAY,EAAE,EAAE;gBACrD,MAAM,SAAS,GAAQ,EAAE,CAAC;gBAC1B,MAAM,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACzC,IAAI,aAAa,IAAI,IAAI,EAAE;oBACzB,MAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACrD,SAAS,CAAC,aAAa,CAAC,GAAG,cAAc,CAAC;iBAC3C;qBAAM,IAAI,aAAa,IAAI,SAAS,EAAE;oBACrC,MAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACrD,SAAS,CAAC,aAAa,CAAC,GAAG;wBACzB,KAAK,EAAE,cAAc,CAAC,CAAC,CAAC;wBACxB,KAAK,EAAE,cAAc,CAAC,CAAC,CAAC;qBACzB,CAAC;iBACH;qBAAM;oBACL,SAAS,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iBAC/C;gBACD,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;YACzC,CAAC,CAAC,CAAC;SACJ;QACD,MAAM,SAAS,GACb,WAAW,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtE,MAAM,QAAQ,GACZ,WAAW,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACrE,OAAO;YACL,OAAO,EAAE,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS;YACjD,MAAM,EAAE;gBACN,MAAM,EAAE,OAAC,SAAS,GAAG,CAAC,CAAC,GAAG,QAAQ,mCAAI,SAAS;gBAC/C,KAAK,EAAE,QAAQ;aAChB;YACD,MAAM,EACJ,MAAM,IAAI,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS;SACxE,CAAC;IACJ,CAAC;;wEAnKU,YAAY;6GAAZ,YAAY,WAAZ,YAAY,mBAFX,MAAM;AAwKpB,MAAM,aAAa;CAGlB;AAED,IAAK,aAGJ;AAHD,WAAK,aAAa;IAChB,4BAAW;IACX,8BAAa;AACf,CAAC,EAHI,aAAa,KAAb,aAAa,QAGjB;;;;;;;;;;;;;;;;;;;ACrLsD;AACqB;AACG;;;AAE/E,MAAM,MAAM,GAAW;IACrB,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,qFAA0B,EAAE,OAAO,EAAE,EAAE,cAAc,EAAE,wFAA2B,EAAE,EAAE,qBAAqB,EAAE,2BAA2B,EAAE;CAClK,CAAC;AASK,MAAM,8BAA8B;;4GAA9B,8BAA8B;2HAA9B,8BAA8B;gIAJ9B;QACT,wFAA2B;KAC5B,YAJQ,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC,EAC9B,yDAAY;mIAKX,8BAA8B,oFAL/B,yDAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVyB;AAQJ;AACgC;AAEtB;AAES;;;;;;;;;;;;;;;;;;;;IC2CpD,wEAGG;IAAA,uDAAsC;;IAAA,4DACxC;;;IAFC,uHAA0D;IACzD,0DAAsC;IAAtC,sJAAsC;;;IAEzC,wEAGG;IAAA,uDAAqC;;IAAA,4DACvC;;;IAFC,8GAAiD;IAChD,0DAAqC;IAArC,qJAAqC;;;IAtB5C,qEAAoC;;IAEhC,uDACF;;IAAA,4DAAK;IACL,qEAAI;IACF,uDAKF;;;IAAA,4DAAK;IACL,qEAAI;IAAA,wDAA2C;;IAAA,4DAAK;IACpD,sEAAI;IAAA,wDAAsB;IAAA,4DAAK;IAC/B,sEAAI;IACF,gKAIC;IACD,gKAIC;IACH,4DAAK;;;IAvBD,0DAA6C;IAA7C,oKAA6C;IAC/C,0DACF;IADE,gKACF;IAEE,0DAKF;IALE,8UAKF;IACI,0DAA2C;IAA3C,sKAA2C;IAC3C,0DAAsB;IAAtB,qFAAsB;IAGrB,0DAA8B;IAA9B,8FAA8B;IAK9B,0DAA6B;IAA7B,6FAA6B;;;;IA5CxC,mFASC;IAFC,kWAAiB,qDAA6C,IAAC;IAG/D,wEAAO;IAGD,uDACF;;IAAA,4DAAK;IACL,yEAAoC;IAClC,uDACF;;IAAA,4DAAK;IACL,sEAAI;IAAA,wDAAkC;;IAAA,4DAAK;IAC3C,sEAAI;IAAA,wDAAmC;;IAAA,4DAAK;IAC5C,sEAAI;IAAA,wDAAmC;;IAAA,4DAAK;IAGhD,yEAAO;IACL,8JAyBK;IACP,4DAAQ;;;;IA/CR,oFAA2B;IAUrB,0DACF;IADE,+JACF;IAEE,0DACF;IADE,uKACF;IACI,0DAAkC;IAAlC,oJAAkC;IAClC,0DAAmC;IAAnC,qJAAmC;IACnC,0DAAmC;IAAnC,qJAAmC;IAIpB,0DAAa;IAAb,6EAAa;;;IAwClC,qEAA2C;IACrC,uDAA4C;;IAAA,4DAAK;;;IAAjD,0DAA4C;IAA5C,qKAA4C;;;IAlExD,yFAA8D;IAC5D,6JAmDW;;IACX,mFAKC;IAGS,uDAAiC;;IAAA,4DAAK;IAG9C,yEAAO;IACL,iJAEK;IACP,4DAAQ;;;;;;IA/DP,0DAAkD;IAAlD,4OAAkD;IAkDnD,0DAA+B;IAA/B,2FAA+B;IAMvB,0DAAiC;IAAjC,iJAAiC;IAIlB,0DAAoB;IAApB,6EAAoB;;AD/D1C,MAAM,0BAA0B;IAKrC,YACU,KAAqB,EACtB,YAA0B,EACzB,SAAoB;QAFpB,UAAK,GAAL,KAAK,CAAgB;QACtB,iBAAY,GAAZ,YAAY,CAAc;QACzB,cAAS,GAAT,SAAS,CAAW;QAN9B,gBAAW,GAAa,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAO9B,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,yCAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;QACtE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAC/B,yCAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CACX,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;YAChE,IAAI,EAAE,QAAQ;YACd,KAAK,EAAE,QAAQ;SAChB,CAAC,CAAC,CACJ,CACF,CAAC;IACJ,CAAC;IAEK,QAAQ,CAAC,IAAY;;YACzB,MAAM,MAAM,GAAG,MAAM,oDAAc,CACjC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;gBACnB,KAAK,EAAE,EAAE,KAAK,EAAE,2FAA0B,EAAE,IAAI,EAAE,+EAAc,EAAE;aACnE,CAAC,CACH,CAAC;YACF,IAAI,CAAC,YAAY,CAAC,WAAW,CAC3B,4FAAgB,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EACzC,UAAU,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,MAAM,CACrC,CAAC;QACJ,CAAC;KAAA;IAED,gBAAgB,CAAC,KAA6B;QAC5C,OAAO,KAAK;aACT,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC;aAC5B,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;IAC7C,CAAC;;oGAvCU,0BAA0B;wHAA1B,0BAA0B;QCpBvC,oFAKC;QAGK,kEAA+B;QAC/B,uDACA;;QAAA,kEAA6B;QAC/B,4DAAS;QACT,4FAA+C;QAE1B,+IAAS,aAAS,KAAK,CAAC,IAAC;QAAC,+DAAG;QAAA,4DAAK;QAIzD,+JAsEyB;;QAC3B,4DAAiB;QAEjB,6FAAiD;QAOzC,yLAAyB,CAAC,eAAE;;QAJ9B,4DAKE;QACF,6EAKE;QADA,yLAAyB,CAAC,eAAE;;QAJ9B,4DAKE;QACF,8EAMC;QAFC,mJAAS,6BAAyB,SAAS,kBAAc,IAAC;QAG1D,wDACF;;QAAA,4DAAS;QACT,8EAIC;QADC,mJAAS,6BAAyB,SAAS,EAAE,SAAS,CAAC,IAAC;QAExD,wDACF;;QAAA,4DAAS;;;;QAxHb,0EAAiB;QAMe,0DAA6B;QAA7B,+EAA6B;QAEzD,0DACA;QADA,8JACA;QAQqB,0DAA4B;QAA5B,wLAA4B;QA+E/C,0DAA2C;QAA3C,kKAA2C;QAC3C,uFAA4B;QAK5B,0DAA2C;QAA3C,kKAA2C;QAC3C,uFAA4B;QAS5B,0DACF;QADE,+JACF;QAME,0DACF;QADE,8JACF;;;;;;;;;;;;;;;;;;;;ACxH6E;AAEE;AACT;;AAMrE,MAAM,uBAAuB;;8FAAvB,uBAAuB;oHAAvB,uBAAuB;wHAFzB,CAAC,8FAA8B,EAAE,4FAAY,CAAC;mIAE5C,uBAAuB,mBAHnB,qFAA0B,aAC/B,8FAA8B,EAAE,4FAAY;;;;;;;;;;;;;;;;;;ACH/B;AAOoB;AACoC;;;;AAI1E,MAAM,2BAA2B;IAGtC,YACU,MAAoB,EACpB,GAA2B;QAD3B,WAAM,GAAN,MAAM,CAAc;QACpB,QAAG,GAAH,GAAG,CAAwB;IAClC,CAAC;IAEJ,OAAO,CACL,KAA6B,EAC7B,KAA0B;QAE1B,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,sBAAsB,CAG/C,KAAK,CAAC,WAAW,CAAC,CAAC;QACrB,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAChC,CAAC;;sGAjBU,2BAA2B;4HAA3B,2BAA2B,WAA3B,2BAA2B","sources":["./src/app/@services/table-service.ts","./src/app/cms/financials/admin-transactions/admin-transactions-routing.module.ts","./src/app/cms/financials/admin-transactions/admin-transactions.component.ts","./src/app/cms/financials/admin-transactions/admin-transactions.component.html","./src/app/cms/financials/admin-transactions/admin-transactions.module.ts","./src/app/cms/financials/admin-transactions/provider-transactions.resolver.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { OffsetPaging } from \"@ridy/admin-panel/generated/graphql\";\nimport { NzTableQueryParams } from \"ng-zorro-antd/table\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class TableService {\n  constructor(private router: Router, private route: ActivatedRoute) {}\n\n  private serializeQueryParams(params: NzTableQueryParams) {\n    const obj: any = {};\n    if (params?.pageIndex > 1) {\n      obj[\"pageIndex\"] = params.pageIndex;\n    } else {\n      obj[\"pageIndex\"] = undefined;\n    }\n    if (params?.pageSize != 10) {\n      obj[\"pageSize\"] = params.pageSize;\n    }\n    if (params.filter != null) {\n      const filterArray = params.filter\n        .filter((val) => val.value != null && val.value.length > 0)\n        .map(\n          (filt) =>\n            `${filt.key}|${Array.isArray(filt.value) ? \"in\" : \"eq\"}|${\n              Array.isArray(filt.value) ? filt.value.join(\"-\") : filt.value\n            }`\n        );\n      obj[\"filter\"] =\n        filterArray.length > 0 ? filterArray.join(\",\") : undefined;\n    }\n    if (params.sort != null && params.sort.length > 0) {\n      const sortArray = params.sort\n        .filter((val) => val.value != null)\n        .map((val) => `${val.key}|${val.value == \"ascend\" ? \"ASC\" : \"DESC\"}`);\n      obj[\"sort\"] = sortArray.length > 0 ? sortArray.join(\",\") : undefined;\n    }\n    return obj;\n  }\n\n  onTableQueryParamsChange(params: NzTableQueryParams): void {\n    const param = this.serializeQueryParams(params);\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: param,\n      queryParamsHandling: \"merge\",\n    });\n  }\n\n  filterText(key: string, value: string | undefined) {\n    const nz = this.deserializeQueryParams<any, any>(this.route);\n    const baseFilter = nz.filter ?? {};\n    if (value != undefined) {\n      baseFilter[key] = { like: value };\n    } else {\n      baseFilter[key] = {};\n    }\n    const filters = Object.keys(baseFilter)\n      .map((key) => {\n        if (Object.keys(baseFilter[key]).length < 1) {\n          return null;\n        }\n        const action = Object.keys(baseFilter[key])[0];\n        const value =\n          action == \"in\"\n            ? baseFilter[key][action].join(\"-\")\n            : baseFilter[key][action];\n        return `${key}|${action}|${value}`;\n      })\n      .filter((fil) => fil != null);\n    const filter = filters.length > 0 ? filters.join(\",\") : undefined;\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: { filter },\n      queryParamsHandling: \"merge\",\n    });\n  }\n\n  filterRange(key: string, range: number[] | undefined) {\n    const nz = this.deserializeQueryParams<any, any>(this.route);\n    const baseFilter = nz.filter ?? {};\n    if (range != undefined) {\n      baseFilter[key] = { between: range };\n    } else {\n      baseFilter[key] = {};\n    }\n    const filters = Object.keys(baseFilter)\n      .map((key) => {\n        if (Object.keys(baseFilter[key]).length < 1) {\n          return null;\n        }\n        const action = Object.keys(baseFilter[key])[0];\n        const value =\n          action == \"in\" || action == \"between\"\n            ? baseFilter[key][action].join(\"-\")\n            : baseFilter[key][action];\n\n        return `${key}|${action}|${value}`;\n      })\n      .filter((fil) => fil != null);\n    const filter = filters.length > 0 ? filters.join(\",\") : undefined;\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: { filter },\n      queryParamsHandling: \"merge\",\n    });\n  }\n\n  resetFilter(key: string, input: HTMLInputElement) {\n    this.filterText(key, undefined);\n    input.value = \"\";\n  }\n\n  downloadURI(uri: string, name: string) {\n    const link = document.createElement(\"a\");\n    link.download = name;\n    link.href = uri;\n    link.target = \"_blank\";\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n\n  deserializeQueryParams<SortType, FilterType>(\n    queryParams: any\n  ): {\n    sorting?: TableSortItem<SortType>[];\n    paging: OffsetPaging;\n    filter?: FilterType;\n  } {\n    const sorting = queryParams.sort\n      ? queryParams.sort.split(\",\").map((sItem: string) => ({\n          field: sItem.split(\"|\")[0] as unknown as SortType,\n          direction: sItem.split(\"|\")[1] as SortDirection,\n        }))\n      : [];\n    const filter: any = {};\n    if (queryParams.filter != null) {\n      queryParams.filter.split(\",\").forEach((item: string) => {\n        const operation: any = {};\n        const operationType = item.split(\"|\")[1];\n        if (operationType == \"in\") {\n          const operationValue = item.split(\"|\")[2].split(\"-\");\n          operation[operationType] = operationValue;\n        } else if (operationType == \"between\") {\n          const operationValue = item.split(\"|\")[2].split(\"-\");\n          operation[operationType] = {\n            lower: operationValue[0],\n            upper: operationValue[1],\n          };\n        } else {\n          operation[operationType] = item.split(\"|\")[2];\n        }\n        filter[item.split(\"|\")[0]] = operation;\n      });\n    }\n    const pageIndex =\n      queryParams.pageIndex != null ? parseInt(queryParams.pageIndex) : 1;\n    const pageSize =\n      queryParams.pageSize != null ? parseInt(queryParams.pageSize) : 10;\n    return {\n      sorting: sorting.length > 0 ? sorting : undefined,\n      paging: {\n        offset: (pageIndex - 1) * pageSize ?? undefined,\n        limit: pageSize,\n      },\n      filter:\n        filter != null && Object.keys(filter).length > 0 ? filter : undefined,\n    };\n  }\n}\n\nclass TableSortItem<T> {\n  field!: T;\n  direction!: SortDirection;\n}\n\nenum SortDirection {\n  Asc = \"ASC\",\n  Desc = \"DESC\",\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AdminTransactionsComponent } from './admin-transactions.component';\nimport { ProviderWalletsListResolver } from './provider-transactions.resolver';\n\nconst routes: Routes = [\n  { path: '', component: AdminTransactionsComponent, resolve: { providerWallet: ProviderWalletsListResolver }, runGuardsAndResolvers: 'paramsOrQueryParamsChange' }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [\n    ProviderWalletsListResolver\n  ]\n})\nexport class AdminTransactionsRoutingModule { }\n","import { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { ApolloQueryResult } from \"@apollo/client/core\";\nimport {\n  ExportGQL,\n  ExportTable,\n  ExportType,\n  ProviderWalletsListQuery,\n  SortDirection,\n} from \"@ridy/admin-panel/generated/graphql\";\nimport { environment } from \"@ridy/admin-panel/src/environments/environment\";\nimport { NzTableFilterList } from \"ng-zorro-antd/table\";\nimport { firstValueFrom, map, Observable } from \"rxjs\";\n\nimport { TableService } from \"../../../@services/table-service\";\n\n@Component({\n  selector: \"app-admin-transactions\",\n  templateUrl: \"./admin-transactions.component.html\",\n})\nexport class AdminTransactionsComponent implements OnInit {\n  query?: Observable<ApolloQueryResult<ProviderWalletsListQuery>>;\n  amountRange: number[] = [-1, -1];\n  currencies?: Observable<NzTableFilterList>;\n\n  constructor(\n    private route: ActivatedRoute,\n    public tableService: TableService,\n    private exportGql: ExportGQL\n  ) {}\n\n  ngOnInit(): void {\n    this.query = this.route.data.pipe(map((data) => data.providerWallet));\n    this.currencies = this.query.pipe(\n      map((data) =>\n        this.distinctCurrency(data.data.regions.nodes).map((currency) => ({\n          text: currency,\n          value: currency,\n        }))\n      )\n    );\n  }\n\n  async exportTo(type: string) {\n    const result = await firstValueFrom(\n      this.exportGql.fetch({\n        input: { table: ExportTable.ProviderWallet, type: ExportType.Csv },\n      })\n    );\n    this.tableService.downloadURI(\n      environment.root + result.data.export.url,\n      `export-${new Date().getTime()}.csv`\n    );\n  }\n\n  distinctCurrency(array: { currency: string }[]): string[] {\n    return array\n      .map((item) => item.currency)\n      .filter((v, i, a) => a.indexOf(v) === i);\n  }\n}\n","<nz-page-header\n  [nzGhost]=\"false\"\n  nzBackIcon\n  nzTitle=\"Provider Wallet\"\n  nzSubtitle=\"List of system provider (you) income of services.\"\n>\n  <nz-page-header-extra>\n    <button nz-button nz-dropdown [nzDropdownMenu]=\"menuExport\">\n      <i nz-icon nzType=\"export\"></i>\n      {{ \"profile.export\" | translate }}\n      <i nz-icon nzType=\"down\"></i>\n    </button>\n    <nz-dropdown-menu #menuExport=\"nzDropdownMenu\">\n      <ul nz-menu>\n        <li nz-menu-item (click)=\"exportTo('csv')\">CSV</li>\n      </ul>\n    </nz-dropdown-menu>\n  </nz-page-header-extra>\n  <nz-page-header-content *ngIf=\"(query | async)?.data as data\">\n    <nz-table\n      #table\n      nzShowSizeChanger\n      [nzFrontPagination]=\"false\"\n      *ngIf=\"(query | async)?.data?.providerTransactions as wallets\"\n      [nzData]=\"wallets.nodes\"\n      [nzTotal]=\"wallets.totalCount\"\n      (nzQueryParams)=\"tableService.onTableQueryParamsChange($event)\"\n      nzBordered\n    >\n      <thead>\n        <tr>\n          <th nzShowSort nzColumnKey=\"createdAt\">\n            {{ \"profile.dateTime\" | translate }}\n          </th>\n          <th nzShowSort nzColumnKey=\"action\">\n            {{ \"profile.transactionType\" | translate }}\n          </th>\n          <th>{{ \"profile.amount\" | translate }}</th>\n          <th>{{ \"profile.details\" | translate }}</th>\n          <th>{{ \"profile.actions\" | translate }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let data of table.data\">\n          <td [nz-tooltip]=\"data.createdAt | date: 'short'\">\n            {{ data.createdAt | timeago }}\n          </td>\n          <td>\n            {{\n              data.action === \"Deduct\"\n                ? (\"enum.transactionType.\" + data.deductType | translate)\n                : (\"enum.transactionType.\" + data.rechargeType | translate)\n            }}\n          </td>\n          <td>{{ data.amount | currency: data.currency }}</td>\n          <td>{{ data.description }}</td>\n          <td>\n            <a\n              *ngIf=\"data.operatorId !== null\"\n              [routerLink]=\"'/management/users/view/' + data.operatorId\"\n              >{{ \"table.viewOperator\" | translate }}</a\n            >\n            <a\n              *ngIf=\"data.requestId !== null\"\n              [routerLink]=\"'/requests/view/' + data.requestId\"\n              >{{ \"table.viewRequest\" | translate }}</a\n            >\n          </td>\n        </tr>\n      </tbody>\n    </nz-table>\n    <nz-table\n      #summaryTable\n      [nzData]=\"data.providerWallets\"\n      nzBordered\n      class=\"mt-2\"\n    >\n      <thead>\n        <tr>\n          <th>{{ \"profile.total\" | translate }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let data of summaryTable.data\">\n          <td>{{ data.balance | currency: data.currency }}</td>\n        </tr>\n      </tbody>\n    </nz-table>\n  </nz-page-header-content>\n</nz-page-header>\n\n<nz-dropdown-menu #filteramount=\"nzDropdownMenu\">\n  <div class=\"ant-table-filter-dropdown\">\n    <div class=\"search-box\">\n      <input\n        nz-input\n        type=\"number\"\n        placeholder=\"{{ 'table.min' | translate }}\"\n        [(ngModel)]=\"amountRange[0]\"\n      />\n      <input\n        nz-input\n        type=\"number\"\n        placeholder=\"{{ 'table.max' | translate }}\"\n        [(ngModel)]=\"amountRange[1]\"\n      />\n      <button\n        nz-button\n        nzSize=\"small\"\n        nzType=\"default\"\n        (click)=\"tableService.filterRange('balance', amountRange)\"\n        class=\"search-button\"\n      >\n        {{ \"profile.search\" | translate }}\n      </button>\n      <button\n        nz-button\n        nzSize=\"small\"\n        (click)=\"tableService.filterRange('balance', undefined)\"\n      >\n        {{ \"profile.reset\" | translate }}\n      </button>\n    </div>\n  </div>\n</nz-dropdown-menu>\n","import { NgModule } from \"@angular/core\";\nimport { SharedModule } from \"@ridy/admin-panel/src/app/@components/shared.module\";\n\nimport { AdminTransactionsRoutingModule } from \"./admin-transactions-routing.module\";\nimport { AdminTransactionsComponent } from \"./admin-transactions.component\";\n\n@NgModule({\n  declarations: [AdminTransactionsComponent],\n  imports: [AdminTransactionsRoutingModule, SharedModule],\n})\nexport class AdminTransactionsModule {}\n","import { Injectable } from \"@angular/core\";\nimport {\n  ActivatedRouteSnapshot,\n  Resolve,\n  RouterStateSnapshot,\n} from \"@angular/router\";\nimport { ApolloQueryResult } from \"@apollo/client/core\";\nimport {\n  ProviderTransactionFilter,\n  ProviderTransactionSortFields,\n  ProviderWalletsListGQL,\n  ProviderWalletsListQuery,\n} from \"@ridy/admin-panel/generated/graphql\";\nimport { TableService } from \"@ridy/admin-panel/src/app/@services/table-service\";\nimport { Observable } from \"rxjs\";\n\n@Injectable()\nexport class ProviderWalletsListResolver\n  implements Resolve<ApolloQueryResult<ProviderWalletsListQuery>>\n{\n  constructor(\n    private paging: TableService,\n    private gql: ProviderWalletsListGQL\n  ) {}\n\n  resolve(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): Observable<ApolloQueryResult<ProviderWalletsListQuery>> {\n    const params = this.paging.deserializeQueryParams<\n      ProviderTransactionSortFields,\n      ProviderTransactionFilter\n    >(route.queryParams);\n    return this.gql.fetch(params);\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}