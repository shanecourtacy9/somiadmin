{"version":3,"file":"src_app_login_login_module_ts.js","mappings":";;;;;;;;;;;;;;AAAiF;AAE1E,MAAM,eAAe,GAAG,4DAAO,CAAC,iBAAiB,EAAE;IACxD,+DAAU,CAAC,QAAQ,EAAE;QACnB,0DAAK,CAAC,aAAa,EAAE;YACnB,0DAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,SAAS,EAAE,yBAAyB,EAAE,CAAC;YAC3D,4DAAO,CAAC,aAAa,CAAC;SACvB,CAAC;KACH,CAAC;IACF,+DAAU,CAAC,QAAQ,EAAE;QACnB,4DAAO,CAAC,OAAO,EAAE,0DAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;KACxC,CAAC;CACH,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXsD;AAChB;AACsB;AACN;AACnB;AAEc;;;;;;;;;;;;;;;IC+BxC,wEAIC;IADC,oVAA4C;IAC7C,4DAAI;;;IAFH,oHAAoD;;ADzB3D,MAAM,cAAc;IAiBzB,YACU,EAAe,EACf,MAAc,EACd,OAAyB,EACzB,QAAkB;QAHlB,OAAE,GAAF,EAAE,CAAa;QACf,WAAM,GAAN,MAAM,CAAQ;QACd,YAAO,GAAP,OAAO,CAAkB;QACzB,aAAQ,GAAR,QAAQ,CAAU;QApBK,UAAK,GAAG,WAAW,CAAC;QACrD,iBAAY,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC3B,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC,+DAAmB,CAAC,CAAC;YACvC,QAAQ,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC;YACpB,QAAQ,EAAE,CAAC,IAAI,CAAC;SACjB,CAAC,CAAC;QACH,eAAU,GAAG,KAAK,CAAC;QACnB,oBAAe,GAAG,KAAK,CAAC;IAcrB,CAAC;IAZJ,UAAU;QACR,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE;YAC1C,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;YAC5C,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,sBAAsB,EAAE,CAAC;SACxD;IACH,CAAC;IASK,OAAO;;;YACX,IAAI;gBACF,MAAM,QAAQ,GAAG,UAAI,CAAC,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC,0CAAE,KAAK,CAAC;gBAC1D,MAAM,QAAQ,GAAG,UAAI,CAAC,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC,0CAAE,KAAK,CAAC;gBAC1D,MAAM,GAAG,GAAG,MAAM,oDAAc,CAC9B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAC5C,CAAC;gBACF,YAAY,CAAC,OAAO,CAAC,kBAAkB,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBAC/D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;aAChC;YAAC,OAAO,SAAc,EAAE;gBACvB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;gBACtC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;aACvE;;KACF;;4EArCU,cAAc;4GAAd,cAAc;;;QCf3B,yEAAsC;QAElC,oEAAuD;QACvD,yEAA0B;QACD,gEAAK;QAAA,4DAAK;QAEnC,0EAKC;QADC,0IAAY,gBAAY,IAAC;QAEzB,+EAAc;QAGR,uEAKE;QACJ,4DAAiB;QAGrB,gFAAc;QAMR,wEAKE;QACJ,4DAAiB;QACjB,yMAMc;QAChB,4DAAkB;QAEpB,gFAAc;QASR,uIAAS,aAAS,IAAC;QAGnB,oEACF;QAAA,4DAAS;;;QAnDb,0DAA0B;QAA1B,uFAA0B;QAoBpB,0DAAmC;QAAnC,yEAAmC;QAGjC,0DAA8C;QAA9C,2GAA8C;QAyBhD,0DAAgC;QAAhC,6FAAgC;ijKD3C9B,CAAC,6DAAe,CAAC;;;;;;;;;;;;;;;;;;;;AEZgB;AACI;AACJ;AACa;;;AAYrD,MAAM,WAAW;;sEAAX,WAAW;wGAAX,WAAW;4GARb;YACP,yDAAY;YACZ,mEAAY;YACZ,kEAAqB,CAAC;gBACpB,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,4DAAc,EAAE;aACxC,CAAC;SACH;mIAEU,WAAW,mBATP,4DAAc,aAE3B,yDAAY;QACZ,mEAAY","sources":["./src/app/login/login.animation.ts","./src/app/login/login.component.ts","./src/app/login/login.component.html","./src/app/login/login.module.ts"],"sourcesContent":["import { animate, query, style, transition, trigger } from '@angular/animations';\n\nexport const loginTransition = trigger('loginTransition', [\n  transition(':enter', [\n    query('div.wrapper', [\n      style({ opacity: 0, transform: 'translate3d(0, 10px, 0)' }),\n      animate('400ms 200ms')\n    ])\n  ]),\n  transition(':leave', [\n    animate('200ms', style({ opacity: 0 }))\n  ])\n]);","import { Component, HostBinding } from \"@angular/core\";\nimport { FormBuilder, Validators } from \"@angular/forms\";\nimport { Router } from \"@angular/router\";\nimport { LoginGQL } from \"@ridy/admin-panel/generated/graphql\";\nimport { NzMessageService } from \"ng-zorro-antd/message\";\nimport { firstValueFrom } from \"rxjs\";\n\nimport { loginTransition } from \"./login.animation\";\n\n@Component({\n  selector: \"app-login\",\n  templateUrl: \"./login.component.html\",\n  styleUrls: [\"./login.component.css\"],\n  animations: [loginTransition],\n})\nexport class LoginComponent {\n  @HostBinding(\"@loginTransition\") state = \"activated\";\n  validateForm = this.fb.group({\n    userName: [null, [Validators.required]],\n    password: [null, []],\n    remember: [true],\n  });\n  validating = false;\n  passwordVisible = false;\n\n  submitForm(): void {\n    for (const i in this.validateForm.controls) {\n      this.validateForm.controls[i].markAsDirty();\n      this.validateForm.controls[i].updateValueAndValidity();\n    }\n  }\n\n  constructor(\n    private fb: FormBuilder,\n    private router: Router,\n    private message: NzMessageService,\n    private loginGql: LoginGQL\n  ) {}\n\n  async onLogin() {\n    try {\n      const username = this.validateForm.get(\"userName\")?.value;\n      const password = this.validateForm.get(\"password\")?.value;\n      const res = await firstValueFrom(\n        this.loginGql.fetch({ username, password })\n      );\n      localStorage.setItem(\"somi_admin_token\", res.data.login.token);\n      this.router.navigate([\"\"], {});\n    } catch (exception: any) {\n      this.message.error(exception.message);\n      this.validateForm.controls[\"password\"].setErrors({ incorrect: true });\n    }\n  }\n}\n","<div class=\"full-screen page-content\">\n  <div class=\"wrapper\">\n    <img class=\"logo-img\" src=\"./assets/logo.png\" alt=\"\" />\n    <div class=\"text-wrapper\">\n      <h1 class=\"title-text\">Login</h1>\n    </div>\n    <form\n      nz-form\n      [formGroup]=\"validateForm\"\n      class=\"login-form\"\n      (ngSubmit)=\"submitForm()\"\n    >\n      <nz-form-item>\n        <nz-form-control nzErrorTip=\"Please input your username!\">\n          <nz-input-group nzPrefixIcon=\"user\">\n            <input\n              type=\"text\"\n              nz-input\n              formControlName=\"userName\"\n              placeholder=\"Username\"\n            />\n          </nz-input-group>\n        </nz-form-control>\n      </nz-form-item>\n      <nz-form-item>\n        <nz-form-control>\n          <nz-input-group\n            nzPrefixIcon=\"lock\"\n            [nzSuffix]=\"passwordSuffixTemplate\"\n          >\n            <input\n              [type]=\"passwordVisible ? 'text' : 'password'\"\n              nz-input\n              formControlName=\"password\"\n              placeholder=\"Password\"\n            />\n          </nz-input-group>\n          <ng-template #passwordSuffixTemplate>\n            <i\n              nz-icon\n              [nzType]=\"passwordVisible ? 'eye-invisible' : 'eye'\"\n              (click)=\"passwordVisible = !passwordVisible\"\n            ></i>\n          </ng-template>\n        </nz-form-control>\n      </nz-form-item>\n      <nz-form-item>\n        <nz-form-control>\n          <!--label nz-checkbox formControlName=\"remember\">\n            <span>Remember me</span>\n          </label-->\n          <button\n            nz-button\n            class=\"login-form-button\"\n            nzType=\"default\"\n            (click)=\"onLogin()\"\n            [disabled]=\"!validateForm.valid\"\n          >\n            Log in\n          </button>\n        </nz-form-control>\n      </nz-form-item>\n    </form>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LoginComponent } from './login.component';\nimport { RouterModule } from '@angular/router';\nimport { SharedModule } from '../@components/shared.module';\n\n@NgModule({\n  declarations: [LoginComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    RouterModule.forChild([\n      { path: '', component: LoginComponent }\n    ])\n  ]\n})\nexport class LoginModule { }\n"],"names":[],"sourceRoot":"webpack:///"}