"use strict";(self.webpackChunksomiadmin=self.webpackChunksomiadmin||[]).push([[630],{6630:(E,Z,o)=>{o.r(Z),o.d(Z,{RidersModule:()=>$});var R=o(6889),d=o(9826),N=o(655),m=o(3075),L=o(4362),F=o(3905),J=o(2583),n=o(5e3),y=o(9727),Q=o(9083),z=o(1945),M=o(7484),c=o(4546),v=o(1894),f=o(1047),b=o(2683),T=o(8054),p=o(9808),A=o(6042),x=o(2643);function _(e,i){if(1&e&&n._UZ(0,"nz-option",21),2&e){const t=i.$implicit;n.Q6J("nzLabel",t.name+" ("+t.dial_code+")")("nzValue",t.dial_code)}}function U(e,i){if(1&e&&(n.TgZ(0,"nz-select",19),n.YNc(1,_,1,2,"nz-option",20),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.countryCodes)}}function O(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"button",22),n.NdJ("click",function(){return n.CHM(t),n.oxw().submitForm()}),n._uU(1," Register "),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("disabled",t.form.invalid)}}const X=function(e){return[e]};let P=(()=>{class e{constructor(t,l,r,a,s){this.fb=t,this.createRiderGQL=l,this.messageService=r,this.routerHelper=a,this.route=s,this.form=this.fb.group({firstName:[null],lastName:[null],phoneNumberPrefix:["+1",m.kI.required],phoneNumber:[null,m.kI.required],gender:[null]}),this.countryCodes=J.k}submitForm(){return(0,N.mG)(this,void 0,void 0,function*(){const t=this.form.value,{phoneNumber:l,phoneNumberPrefix:r}=t,a=(0,N._T)(t,["phoneNumber","phoneNumberPrefix"]);yield(0,F.z)(this.createRiderGQL.mutate({input:Object.assign({mobileNumber:`${r}${l}`},a)})),this.messageService.success("Saved Successfully."),this.routerHelper.goToParent(this.route)})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(m.qu),n.Y36(L.sfd),n.Y36(y.dD),n.Y36(Q.b),n.Y36(d.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-rider-new"]],decls:30,vars:22,consts:[["nzBackIcon","","nzTitle","New Rider","nzSubtitle","Input Rider's contact details below.",3,"nzGhost"],[3,"nzActions"],["nz-form","",3,"formGroup","ngSubmit"],["nzRequired","","nzFor","firstName",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid First Name",3,"nzSm","nzXs"],["nz-input","","formControlName","firstName","id","firstName"],["nzRequired","","nzFor","lastName",3,"nzSm","nzXs"],["nzErrorTip","The input is not valid Last Name",3,"nzSm","nzXs"],["nz-input","","formControlName","lastName","id","lastName"],["nzFor","phoneNumber","nzRequired","",3,"nzSm","nzXs"],[3,"nzSm","nzXs"],[3,"nzAddOnBefore"],["addOnBeforeTemplate",""],["formControlName","phoneNumber","id","'phoneNumber'","nz-input",""],["nzFor","gender",3,"nzSm","nzXs"],["formControlName","gender"],["nzLabel","Male","nzValue","Male"],["nzLabel","Female","nzValue","Female"],["tmplActions",""],["formControlName","phoneNumberPrefix",1,"phone-select"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"],["nz-button","","nzType","default",3,"disabled","click"]],template:function(t,l){if(1&t&&(n._UZ(0,"nz-page-header",0),n.TgZ(1,"nz-card",1)(2,"form",2),n.NdJ("ngSubmit",function(){return l.submitForm()}),n.TgZ(3,"nz-form-item")(4,"nz-form-label",3),n._uU(5,"First Name"),n.qZA(),n.TgZ(6,"nz-form-control",4),n._UZ(7,"input",5),n.qZA()(),n.TgZ(8,"nz-form-item")(9,"nz-form-label",6),n._uU(10,"Last Name"),n.qZA(),n.TgZ(11,"nz-form-control",7),n._UZ(12,"input",8),n.qZA()(),n.TgZ(13,"nz-form-item")(14,"nz-form-label",9),n._uU(15,"Phone Number"),n.qZA(),n.TgZ(16,"nz-form-control",10)(17,"nz-input-group",11),n.YNc(18,U,2,1,"ng-template",null,12,n.W1O),n._UZ(20,"input",13),n.qZA()()(),n.TgZ(21,"nz-form-item")(22,"nz-form-label",14),n._uU(23,"Gender"),n.qZA(),n.TgZ(24,"nz-form-control",10)(25,"nz-select",15),n._UZ(26,"nz-option",16)(27,"nz-option",17),n.qZA()()(),n.YNc(28,O,2,1,"ng-template",null,18,n.W1O),n.qZA()()),2&t){const r=n.MAs(19),a=n.MAs(29);n.Q6J("nzGhost",!1),n.xp6(1),n.Q6J("nzActions",n.VKq(20,X,a)),n.xp6(1),n.Q6J("formGroup",l.form),n.xp6(2),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24),n.xp6(1),n.Q6J("nzAddOnBefore",r),n.xp6(5),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24)}},directives:[z.$O,M.bd,m._Y,m.JL,c.Lr,m.sg,v.SK,c.Nx,v.t3,c.iK,c.Fd,f.Zp,m.Fj,m.JJ,m.u,f.gB,b.w,T.Vq,p.sg,T.Ip,A.ix,x.dQ],encapsulation:2}),e})();var Y=o(4004),C=o(1062),B=o(7633),I=o(647),u=o(939),j=o(3677),w=o(5390);function G(e,i){if(1&e&&(n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.ALo(5,"phone"),n.qZA(),n.TgZ(6,"td")(7,"a",21),n._uU(8),n.ALo(9,"translate"),n.qZA()()()),2&e){const t=i.$implicit;n.xp6(2),n.AsE("",t.firstName," ",t.lastName,""),n.xp6(2),n.Oqu(n.lcZ(5,5,t.mobileNumber)),n.xp6(3),n.Q6J("routerLink","view/"+t.id),n.xp6(1),n.Oqu(n.lcZ(9,7,"table.details"))}}function D(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"nz-table",14,15),n.NdJ("nzQueryParams",function(r){return n.CHM(t),n.oxw().tableService.onTableQueryParamsChange(r)}),n.TgZ(2,"thead")(3,"tr")(4,"th",16),n._uU(5),n.ALo(6,"translate"),n.TgZ(7,"nz-filter-trigger",17),n.ALo(8,"async"),n._UZ(9,"i",18),n.qZA()(),n.TgZ(10,"th",19),n._uU(11),n.ALo(12,"translate"),n.TgZ(13,"nz-filter-trigger",17),n.ALo(14,"async"),n._UZ(15,"i",18),n.qZA()(),n.TgZ(16,"th"),n._uU(17),n.ALo(18,"translate"),n.qZA()()(),n.TgZ(19,"tbody"),n.YNc(20,G,10,9,"tr",20),n.qZA()()}if(2&e){const t=i.ngIf,l=n.MAs(1),r=n.oxw(),a=n.MAs(10),s=n.MAs(23);let g,h;n.Q6J("nzFrontPagination",!1)("nzData",t.nodes)("nzTotal",t.totalCount),n.xp6(4),n.Q6J("nzSortFn",!0),n.xp6(1),n.hij(" ",n.lcZ(6,13,"profile.name")," "),n.xp6(2),n.Q6J("nzActive",null==(g=n.lcZ(8,15,r.route.queryParams))||null==g.filter?null:g.filter.includes("lastName|like|"))("nzDropdownMenu",a),n.xp6(3),n.Q6J("nzSortFn",!0),n.xp6(1),n.hij(" ",n.lcZ(12,17,"profile.mobileNumber")," "),n.xp6(2),n.Q6J("nzActive",null==(h=n.lcZ(14,19,r.route.queryParams))||null==h.filter?null:h.filter.includes("mobileNumber|like|"))("nzDropdownMenu",s),n.xp6(4),n.Oqu(n.lcZ(18,21,"profile.actions")),n.xp6(3),n.Q6J("ngForOf",l.data)}}let V=(()=>{class e{constructor(t,l,r){this.route=t,this.translate=l,this.tableService=r}ngOnInit(){this.query=this.route.data.pipe((0,Y.U)(t=>t.riders))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(d.gz),n.Y36(C.sK),n.Y36(B.w))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-riders-list"]],decls:34,vars:22,consts:[["nzBackIcon","","nzTitle","Riders","nzSubtitle","List of all the clients registered",3,"nzGhost"],["nz-button","","nzType","default","routerLink","new"],["nz-icon","","nzType","plus"],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams",4,"ngIf"],["filtername","nzDropdownMenu"],[1,"ant-table-filter-dropdown"],[1,"search-box"],["nz-input","",3,"placeholder"],["lastNameInput",""],["nz-button","","nzSize","small","nzType","default",1,"search-button",3,"click"],["nz-button","","nzSize","small",3,"click"],["filtermobile","nzDropdownMenu"],["nz-input","","placeholder","Search Mobile Number"],["mobileNumberInput",""],["nzShowSizeChanger","","nzBordered","",3,"nzFrontPagination","nzData","nzTotal","nzQueryParams"],["table",""],["nzCustomFilter","","nzColumnKey","lastName",3,"nzSortFn"],[3,"nzActive","nzDropdownMenu"],["nz-icon","","nzType","search"],["nzCustomFilter","","nzColumnKey","mobileNumber",3,"nzSortFn"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,l){if(1&t){const r=n.EpF();n.TgZ(0,"nz-page-header",0)(1,"nz-page-header-extra")(2,"button",1),n._UZ(3,"i",2),n._uU(4),n.ALo(5,"translate"),n.qZA()(),n.TgZ(6,"nz-page-header-content"),n.YNc(7,D,21,23,"nz-table",3),n.ALo(8,"async"),n.TgZ(9,"nz-dropdown-menu",null,4)(11,"div",5)(12,"div",6),n._UZ(13,"input",7,8),n.ALo(15,"translate"),n.TgZ(16,"button",9),n.NdJ("click",function(){n.CHM(r);const s=n.MAs(14);return l.tableService.filterText("lastName",s.value)}),n._uU(17),n.ALo(18,"translate"),n.qZA(),n.TgZ(19,"button",10),n.NdJ("click",function(){n.CHM(r);const s=n.MAs(14);return l.tableService.resetFilter("lastName",s)}),n._uU(20),n.ALo(21,"translate"),n.qZA()()()(),n.TgZ(22,"nz-dropdown-menu",null,11)(24,"div",5)(25,"div",6),n._UZ(26,"input",12,13),n.TgZ(28,"button",9),n.NdJ("click",function(){n.CHM(r);const s=n.MAs(27);return l.tableService.filterText("mobileNumber",s.value)}),n._uU(29),n.ALo(30,"translate"),n.qZA(),n.TgZ(31,"button",10),n.NdJ("click",function(){n.CHM(r);const s=n.MAs(27);return l.tableService.resetFilter("mobileNumber",s)}),n._uU(32),n.ALo(33,"translate"),n.qZA()()()()()()}if(2&t){let r;n.Q6J("nzGhost",!1),n.xp6(4),n.hij("",n.lcZ(5,8,"profile.add")," "),n.xp6(3),n.Q6J("ngIf",null==(r=n.lcZ(8,10,l.query))||null==r.data?null:r.data.riders),n.xp6(6),n.s9C("placeholder",n.lcZ(15,12,"profile.lastName")),n.xp6(4),n.hij(" ",n.lcZ(18,14,"profile.search")," "),n.xp6(3),n.hij(" ",n.lcZ(21,16,"profile.reset")," "),n.xp6(9),n.hij(" ",n.lcZ(30,18,"profile.search")," "),n.xp6(3),n.hij(" ",n.lcZ(33,20,"profile.reset")," ")}},directives:[z.$O,z.Jp,A.ix,x.dQ,b.w,d.rH,I.Ls,z.u5,p.O5,u.N8,u.Om,u.$Z,u.Uo,u._C,u.qD,u.Ql,u.p0,p.sg,d.yS,j.RR,f.Zp],pipes:[C.X$,p.Ov,w.E],encapsulation:2}),e})();var S=o(4739);const H=[{path:"",component:V,resolve:{riders:S.p},runGuardsAndResolvers:"paramsOrQueryParamsChange"},{path:"view/:id",loadChildren:()=>o.e(201).then(o.bind(o,9201)).then(e=>e.RiderViewModule)},{path:"new",component:P}];let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[S.p],imports:[[d.Bz.forChild(H)],d.Bz]}),e})(),$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[],imports:[[q,R.m]]}),e})()}}]);