"use strict";(self.webpackChunksomiadmin=self.webpackChunksomiadmin||[]).push([[653],{653:(Y,d,n)=>{n.r(d),n.d(d,{UserViewModule:()=>J});var s=n(9826),p=n(4362),e=n(5e3);let f=(()=>{class t{constructor(o){this.gql=o}resolve(o,a){return this.gql.fetch({id:o.params.id})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(p.ngZ))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();var z=n(655),r=n(3075),U=n(4004),h=n(3905),N=n(9727),m=n(4546),c=n(1894),T=n(1047),g=n(8054),v=n(9808),V=n(6042),b=n(2643),C=n(2683);function F(t,i){if(1&t&&e._UZ(0,"nz-option",21),2&t){const o=i.$implicit;e.Q6J("nzValue",o.id)("nzLabel",o.title)}}let y=(()=>{class t{constructor(o,a,l,Z,S){this.route=o,this.updateGQL=a,this.router=l,this.fb=Z,this.msg=S,this.form=this.fb.group({id:[null,r.kI.required],firstName:[null,r.kI.required],lastName:[null,r.kI.required],userName:[null,r.kI.required],email:[null],roleId:[null,r.kI.required],mobileNumber:[null,r.kI.required]})}ngOnInit(){var o,a;null===(o=this.route.parent)||void 0===o||o.data.subscribe(l=>this.form.patchValue(l.operator.data.operator)),this.query=null===(a=this.route.parent)||void 0===a?void 0:a.data.pipe((0,U.U)(l=>l.operator))}onSubmit(){return(0,z.mG)(this,void 0,void 0,function*(){const o=this.form.value,{id:a}=o,l=(0,z._T)(o,["id"]);yield(0,h.z)(this.updateGQL.mutate({id:a,update:l})),this.msg.success("Done!"),this.router.navigateByUrl("/management/users")})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(s.gz),e.Y36(p.Ii4),e.Y36(s.F0),e.Y36(r.qu),e.Y36(N.dD))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-view-details"]],decls:37,vars:6,consts:[["nz-form","",3,"nzLayout","formGroup","ngSubmit"],["formControlName","id","type","hidden","hidden",""],[1,"lg:grid","lg:grid-cols-3","lg:gap-2"],["nzRequired","","nzFor","firstName"],["nzErrorTip","The input is not valid First Name"],["nz-input","","required","","formControlName","firstName","id","firstName"],["nzRequired","","nzFor","lastName"],["nzErrorTip","The input is not valid Last Name"],["nz-input","","required","","formControlName","lastName","id","lastName"],["nzRequired","","nzFor","roleId"],["nzErrorTip","Role is not selected"],["required","","formControlName","roleId"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzRequired","","nzFor","userName"],["nzErrorTip","The input is not valid User Name"],["nz-input","","required","","formControlName","userName","id","userName"],["nzFor","email"],["nz-input","","formControlName","email","id","email"],["nzRequired","","nzFor","mobileNumber"],["formControlName","mobileNumber","id","'mobileNumber","nz-input",""],["nz-button","","nzType","default","type","submit",1,"float-right",3,"disabled"],[3,"nzValue","nzLabel"]],template:function(o,a){if(1&o&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return a.onSubmit()}),e._UZ(1,"input",1),e.TgZ(2,"div",2)(3,"nz-form-item")(4,"nz-form-label",3),e._uU(5,"First Name"),e.qZA(),e.TgZ(6,"nz-form-control",4),e._UZ(7,"input",5),e.qZA()(),e.TgZ(8,"nz-form-item")(9,"nz-form-label",6),e._uU(10,"Last Name"),e.qZA(),e.TgZ(11,"nz-form-control",7),e._UZ(12,"input",8),e.qZA()(),e.TgZ(13,"nz-form-item")(14,"nz-form-label",9),e._uU(15,"Role"),e.qZA(),e.TgZ(16,"nz-form-control",10)(17,"nz-select",11),e.YNc(18,F,1,2,"nz-option",12),e.ALo(19,"async"),e.qZA()()(),e.TgZ(20,"nz-form-item")(21,"nz-form-label",13),e._uU(22,"User Name"),e.qZA(),e.TgZ(23,"nz-form-control",14),e._UZ(24,"input",15),e.qZA()(),e.TgZ(25,"nz-form-item")(26,"nz-form-label",16),e._uU(27,"Email"),e.qZA(),e.TgZ(28,"nz-form-control"),e._UZ(29,"input",17),e.qZA()(),e.TgZ(30,"nz-form-item")(31,"nz-form-label",18),e._uU(32,"Mobile Number"),e.qZA(),e.TgZ(33,"nz-form-control"),e._UZ(34,"input",19),e.qZA()()(),e.TgZ(35,"button",20),e._uU(36," Save "),e.qZA()()),2&o){let l;e.Q6J("nzLayout","vertical")("formGroup",a.form),e.xp6(18),e.Q6J("ngForOf",null==(l=e.lcZ(19,4,a.query))||null==l.data?null:l.data.operatorRoles),e.xp6(17),e.Q6J("disabled",a.form.invalid)}},directives:[r._Y,r.JL,m.Lr,r.sg,r.Fj,r.JJ,r.u,c.SK,m.Nx,c.t3,m.iK,m.Fd,T.Zp,r.Q7,g.Vq,v.sg,g.Ip,V.ix,b.dQ,C.w],pipes:[v.Ov],encapsulation:2}),t})();var A=n(7484),u=n(868),q=n(1062);function L(t,i){1&t&&(e.TgZ(0,"a",2),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"users.tab.details")))}const R=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-view"]],decls:5,vars:0,consts:[["nzLinkRouter",""],["nz-tab-link","","routerLink","details",4,"nzTabLink"],["nz-tab-link","","routerLink","details"]],template:function(o,a){1&o&&(e.TgZ(0,"nz-card")(1,"nz-tabset",0)(2,"nz-tab"),e.YNc(3,L,3,3,"a",1),e.qZA()(),e._UZ(4,"router-outlet"),e.qZA())},directives:[A.bd,u.xH,u.xw,u.Fx,u.Ao,s.yS,s.lC],pipes:[q.X$],encapsulation:2}),t})(),resolve:{operator:f},children:[{path:"",redirectTo:"details"},{path:"details",component:y}]}];let w=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[f],imports:[[s.Bz.forChild(R)],s.Bz]}),t})();var I=n(6889);let J=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[I.m,w]]}),t})()}}]);